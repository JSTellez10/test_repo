load("~/Documents/Sebastian Tellez/Cursos/BIG DATA Y MACHINE LEARNING PARA ECONOMIA APLICADA/REPOSITORIOS/test_repo/test_repo.Rproj")
load("~/Documents/Sebastian Tellez/Cursos/BIG DATA Y MACHINE LEARNING PARA ECONOMIA APLICADA/REPOSITORIOS/test_repo/hello_world.txt")
require("pacman")
p_load("tidyverse","stargazer")
install.packages("pacman")
install.packages("pacman")
require("pacman")
p_load("tidyverse","stargazer")
nlsy = read_csv('https://raw.githubusercontent.com/ignaciomsarmiento/datasets/main/nlsy97.csv')
nlsy = nlsy  %>%   drop_na(educ)
nlsy <- nlsy  %>% mutate(educ2=educ^2,
educ3=educ^3,
educ4=educ^4,
educ5=educ^5,
educ6=educ^6,
educ7=educ^7,
educ8=educ^8,
educ9=educ^9,
educ10=educ^10,
)
reg<- lm(lnw_2016~educ+ educ2 + educ3 + educ4 + educ5 + educ6 + educ7 +
educ8 + educ9 + educ10,   data = nlsy)
summary(reg)
stargazer(reg,type="text")
nlsy$yhat= predict(reg)
summ = nlsy %>%
group_by(
educ, educ2, educ3, educ4, educ5,
educ6, educ7, educ8, educ9, educ10
) %>%
summarize(
mean_y = mean(lnw_2016),
yhat_reg = mean(yhat), .groups="drop"
)
ggplot(summ) +
geom_point(
aes(x = educ, y = mean_y),
color = "blue", size = 2
) +
geom_line(
aes(x = educ, y = yhat_reg),
color = "green", size = 1.5
) +
labs(
title = "ln Wages by Education in the NLSY",
x = "Years of Schooling",
y = "ln Wages"
) +
theme_bw()
p_load("fabricatr")
p_load("fabricatr")
#for reproducibility
set.seed(101010)
db1 <- fabricate(
N = 100000,
ability=rnorm(N,mean=.5,sd=2),
schooling = round(runif(N, 2, 14)),
logwage =rnorm(N, mean=7+.15*schooling, sd=20)
)
View(db1)
reg1<-lm(logwage~schooling,db1)
reg2<-lm(logwage~schooling+ability,db1)
stargazer(reg1,reg2,type="text")
db1<- db1 %>% mutate(yhat_reg1=predict(reg1),
yhat_reg2=predict(reg2))
db2 <- fabricate(
N = 100000,
ability=rnorm(N,mean=.5,sd=2),
schooling = round(runif(N, 2, 14)),
schooling = round(ceiling(schooling+1*ability)),
logwage =rnorm(N, mean=7+.15*schooling+.25*ability, sd=20)
)
reg3<-lm(logwage~schooling,db2)
reg4<-lm(logwage~schooling+ability,db2)
stargazer(reg3,reg4,type="text")
var(db1$yhat_reg1)
var(db1$yhat_reg2)
